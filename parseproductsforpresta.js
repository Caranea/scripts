let shopifyexport = [{"Handle":"złota","Title":"Złota","Body":"<p>Sylwetka kobieca na jasnym\ntle z elementami złota, obraz dobrze sprawdzi się na tle białym, szarym, beżowym, odcieniach brązu, w pomieszczeniu z elementami drewnianymi. </p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl, szlagmetal</p><p>Podłoże: płótno lniane</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1900,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Złota0.3055752322231968.jpg"},{"Handle":"sabra","Title":"Sabra","Body":"<p>Obraz do wnętrz białych, szarych, betonowych, grafitowych</p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl, szlagaluminium</p><p>Podłoże: płótno lniane</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1900,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Sabra0.044076109218377235.jpg"},{"Handle":"la-parisienne","Title":"La parisienne","Body":"<p>połączenie beżu,szarości,czerni z elementami granatu sprawdzi się w każdym wnętrzu i kolorystyce. Obraz do salonu, sypialni, innych pomieszczeń</p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl</p><p>Podłoże: płótno lniane</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1900,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/La parisienne0.9136459071593692.jpg"},{"Handle":"czarna","Title":"Czarna","Body":"<p>Obraz do wnętrz nowoczesnych, naturalnych, minimalistycznych, eco w barwach beżowych, białych, szarych, grafitowych, czarnych. Obszar malowany pokryty matowym werniksem akrylowym.</p><p>Wymiary (cm): 100x80</p><p>Materiały: Gesso, akryl, szlagaluminium</p><p>Podłoże: płótno lniane </p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1500,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Czarna0.27246050847431613.jpg"},{"Handle":"niebieska","Title":"Niebieska","Body":"<p>Nowoczesny obraz do nowoczesnych,\nminimalistycznych zdjęć. Najlepiej sprawdzi się na podłożu białym, szarym, betonowym, turkusowym, morskim. We wnętrzu mogą być elementy złota, srebra, turkusu, szarości, betonu. </p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl, szlagmetal</p><p>Podłoże: płótno lniane</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1900,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Niebieska0.45237736934900097.jpg"},{"Handle":"zielona","Title":"Zielona","Body":"<p>\nObraz z odcieniami butelkowej zieleni z elementami srebra (szlagaluminium) najlepiej sprawdzi się we wnętrzach z butelkowymi i zielonymi elementami, roślinami, czernią, bielą, szarościami. Wprowadza do wnętrza spokój i łagodność.</p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl</p><p>Podłoże: len</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1500,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Zielona0.2340094901030274.jpg"},{"Handle":"verrucosum","Title":"Verrucosum","Body":"<p>Duży format z motywem Philodendron Verrucosum dla miłośników zieleni i roślin. Najlepiej sprawdzi się we wnętrzach jasnych ze złotem, zielenią, beżami lub brązami, zielenią, butelkową zielenią.  </p><p>Wymiary (cm): 150x200</p><p>Materiały: akryl, szlagmetal miedziany</p><p>Podłoże: płótno lniane</p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":2200,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Verrucosum0.12203257774058263.jpg"},{"Handle":"różowa","Title":"Różowa","Body":"<p>Odcienie pudrowego różu +\nszlagmetal w kolorze różowego złota\n</p><p>Wymiary (cm): 120x100</p><p>Materiały: akryl, szlagmetal </p><p>Podłoże: płótno lniane </p><p>Werniks: Tak</p><p>Rok: 2020</p>","Publish":false,"Variant Inventory Qty":1,"Price":1500,"Vendor":"Tashami Ash","Image Src":"https://artysta.knickknacks.pl/dest/Różowa0.44450287559188917.jpg"}]

shopifyexport.forEach(el => {
    let desc = JSON.stringify(el["Body"])
    let reg = /\d\d[x]\d\d/gm
    if (reg.test(desc)) {
        let dimensions = desc.match(reg);
        let height = dimensions[0].split('x')[0]
        let width = dimensions[0].split('x')[1]
        el.height = height;
        el.width = width;
        el.feature = "Orientacja:" + (height > width ? "Pionowa" : height === width ? "Kwadrat" : "Pozioma") + `:1:0,Wysokość:${height}:1:0` + `,Szerokość:${width}:1:0`
        console.log(el.feature)
    }
})
const fs = require('fs');

fs.writeFile("./productsforpresta.json", JSON.stringify(shopifyexport), function (err) {
    if (err) {
        return console.log(err);
    }
    console.log("The file was saved!");
}); 
